--- a/Smart-Price-Book/dev/index.html
+++ b/Smart-Price-Book/dev/index.html
@@ -6,7 +6,7 @@
-DATE(JST): 2026-01-16 15:58 JST
-TITLE: P0追加（スキャナ合わせ窓＋購入履歴赤枠の角丸/余白）
+DATE(JST): 2026-01-16 16:41 JST
+TITLE: P0回帰修正（スキャナガイド枠/走査ライン表示＋赤枠角丸/余白）
 HEAD_COMMIT: （最新コミット・反映待ち）
 BASE_COMMIT: （前回の基準コミット）
-BUILD_ID: 2026-01-16_1558_scanguide-redframe
+BUILD_ID: 2026-01-16_1641_scanner-regression-redframe
 CHANGES:
-✅ P0追加: スキャナに「合わせる窓（角丸ガイド枠）」を追加（debug=1のときだけ表示）
+✅ P0回帰修正: トースト「カメラ起動中…」は表示しない（最低でも debug=1 の時だけに限定）
+✅ P0回帰修正: スキャナ画面に「合わせ窓（角丸ガイド枠）」を必ず表示（通常モードでも）
   - スキャンバーは枠の中だけ動くように（ボタン追加なし）
   - 角丸ガイド枠（border-radius: 20px）を追加
-  - debug=1のときだけ表示（body[data-debug="1"] .scan-frame）
+  - display: block; に変更（debug=1の条件を削除）
+  - z-index: 2001; でvideoより前面に固定
+✅ P0回帰修正: スキャンバー（走査ライン）を必ず表示し、合わせ窓の中を走るように戻す
+  - z-index: 2002; でvideoより前面に固定
+  - CSSアニメで確実に出る方式（@keyframes scanning）
-✅ P0追加: 検出は枠（ROI）内だけにして精度/速度を上げる（細い側面バーコードで特に）
-  - qrbox設定を強化（aspectRatio: 1.0、disableFlip: false）
-  - ROI内だけの検出を確実にする
-✅ P0追加: 購入履歴の対象情報選択時の赤枠を#priceSectionと同じ仕様へ統一
+✅ P0回帰修正: 赤い枠の角丸Rを他カードと同じに統一（border-radius: 12px !important）
+✅ P0回帰修正: 枠線に対して情報が近すぎるのを解消（padding: 12px !important、margin: 0 !important）
@@ -22,7 +22,7 @@
-BUILD_ID: 2026-01-16_1558_scanguide-redframe
-BUILD_PARAM: ?b=2026-01-16_1558_scanguide-redframe
+BUILD_ID: 2026-01-16_1641_scanner-regression-redframe
+BUILD_PARAM: ?b=2026-01-16_1641_scanner-regression-redframe
@@ -29,7 +29,7 @@
-2. 通常タブで開く: ブラウザの通常タブで /dev/?b=2026-01-16_1558_scanguide-redframe を開く
+2. 通常タブで開く: ブラウザの通常タブで /dev/?b=2026-01-16_1641_scanner-regression-redframe を開く
@@ -79,9 +79,10 @@
     /* ✅ P0: 購入履歴選択時の赤枠を#priceSectionと同じ仕様へ統一 */
     .selected {
       border: 1px solid #ff5252 !important;
-      border-radius: 12px; /* 角丸統一（rounded） */
+      border-radius: 12px !important; /* 角丸統一（他カードと同じ半径） */
       background: rgba(213,0,0,0.12);
       box-sizing: border-box; /* 枠ズレ予防 */
       max-width: 100%; /* 枠ズレ予防 */
       overflow: hidden; /* 枠ズレ予防 */
       padding: 12px !important; /* 左右余白（padding 12px固定） */
+      margin: 0 !important; /* マージンをリセット */
     }
@@ -90,16 +91,17 @@
     #camera-area { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 2000; }
     #interactive { width: 100%; height: 100%; }
-    /* ✅ P0: スキャナに「合わせる窓（角丸ガイド枠）」を追加（debug=1のときだけ表示） */
+    /* ✅ P0: スキャナ画面に「合わせ窓（角丸ガイド枠）」を必ず表示（通常モードでも） */
     .scan-frame { 
       position: absolute; 
       top: 50%; 
       left: 50%; 
       transform: translate(-50%, -50%); 
       width: 280px; 
       height: 180px; 
-      z-index: 2001; 
+      z-index: 2001; /* videoより前面に固定 */
       box-shadow: 0 0 0 4000px rgba(0,0,0,0.65); 
       border: 3px solid #ff5252; 
       border-radius: 20px; 
-      display: none; /* デフォルトは非表示 */
+      display: block; /* 必ず表示 */
     }
-    /* debug=1のときだけ表示 */
-    body[data-debug="1"] .scan-frame { display: block; }
+    /* ✅ P0: スキャンバー（走査ライン）を必ず表示し、合わせ窓の中を走るように戻す */
     .laser { 
       position: absolute; 
       left: 5%; 
@@ -107,7 +109,8 @@
       height: 2px; 
       background: #ff0000; 
       box-shadow: 0 0 10px 2px #ff0000; 
       animation: scanning 2s infinite ease-in-out; 
-      z-index: 2002; 
+      z-index: 2002; /* videoより前面に固定 */
       border-radius: 1px; /* 角丸 */
     }
+    /* CSSアニメで確実に出る方式 */
     @keyframes scanning { 
-      0% { top: 15%; opacity: 0.2; } 50% { top: 85%; opacity: 1; } 100% { top: 15%; opacity: 0.2; } }
+      0% { top: 15%; opacity: 0.2; } 
+      50% { top: 85%; opacity: 1; } 
+      100% { top: 15%; opacity: 0.2; } 
+     }
@@ -308,7 +311,7 @@
   const APP_VERSION = "v19.9.18"; // 画面表示用（数字のみ）
   const FULL_VERSION = "v19.9.18-hf28-p0-camera-lag"; // デバッグ用（詳細）
-  const BUILD_ID = "2026-01-16_1558_scanguide-redframe"; // ヘッダーと一致させる
+  const BUILD_ID = "2026-01-16_1641_scanner-regression-redframe"; // ヘッダーと一致させる
@@ -3346,7 +3349,8 @@
     document.getElementById('camera-area').style.display='block';
-    showToast("カメラ起動中…", 2000);
+    // ✅ P0: トースト「カメラ起動中…」は表示しない（最低でも debug=1 の時だけに限定）
+    if (isDebug()) {
+      showToast("カメラ起動中…", 2000);
+    }
     if(!scanner) scanner = new Html5Qrcode("interactive");
